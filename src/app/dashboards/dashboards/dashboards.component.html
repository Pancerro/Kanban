<div class="mainContent" *ngFor="let item of userInfo" [style.background]="changeBackground()" [style.color]="changeFont()">
    <div class="center">
        <mat-sidenav-container class="sidenav">
            <mat-sidenav #sidenav class="sidenavleft" [style.background]="changeBackground()" [style.color]="changeFont()">
                <!-- <p><button mat-stroked-button color="primary" (click)="sidenav.toggle()">Close</button></p>-->
                <p><button mat-stroked-button color="primary" (click)="createNewKanbanTable()">Create new Kanban Project</button></p>
                <p>My Kanban Project Lists: </p>
                <ol>
                    <div *ngFor="let item of tableNameProject">
                        <li *ngIf="!item.share">
                            <div class="example-box" [style.background]="changeBackground()" [style.color]="changeFont()">

                                <button mat-stroked-button color="primary" class="buttonList" class="buttonList" [style.color]="changeFont()" (click)="seeMyProject(item.projectName)"> {{item.projectName}}</button>
                                <button mat-button *ngIf="item.projectName!='kanban'" [matMenuTriggerFor]="menu">  <mat-icon aria-label="Menu">menu</mat-icon></button>
                                <mat-menu #menu="matMenu">
                                    <button mat-menu-item (click)="removeProject(item.projectName)"><mat-icon>delete</mat-icon>Delete</button>
                                    <button mat-menu-item (click)="editProjectName(item.projectName)"><mat-icon>edit</mat-icon>Edit</button>
                                    <button mat-menu-item (click)="shareProject(item.projectName)">Share</button>
                                </mat-menu>
                            </div>
                        </li>
                    </div>
                </ol>
                <p>Share Kanban Project Lists: </p>
                <ol>
                    <div *ngFor="let item of shared">
                        <li>
                            <div class="example-box" [style.background]="changeBackground()" [style.color]="changeFont()">
                                <button mat-stroked-button color="primary" class="buttonList" class="buttonList" [style.color]="changeFont()" (click)="seeMyShareProject(item)"> {{item.kanban}}</button>
                            </div>
                        </li>
                    </div>
                </ol>
            </mat-sidenav>
            <mat-sidenav #sidenavright position="end" [style.background]="changeBackground()" [style.color]="changeFont()">
                <h3><input type="button" class="onlineStatus" *ngIf="checkStatus(replece(item.email))" (click)="changeStatus(replece(item.email))">
                    <input type="button" class="offlineStatus" *ngIf="!checkStatus(replece(item.email))" (click)="changeStatus(replece(item.email))"> {{item.email}}
                </h3>
                <h4>My friends lists:</h4>
                <h4>Online:</h4>
                <div *ngFor="let item of allUser">
                    <div *ngIf="checkFriend(item.email)">
                        <div *ngIf="checkAccept(item.email)">
                            <p *ngIf="item.online"> {{inreplece(item.email)}}
                                <button mat-stroked-button color="primary" (click)="removeFriend(item.email)">x</button></p>
                        </div>
                    </div>
                </div>
                <h4>Offline:</h4>
                <div *ngFor="let item of allUser">
                    <div *ngIf="checkFriend(item.email)">
                        <div *ngIf="checkAccept(item.email)">
                            <p *ngIf="!item.online"> {{inreplece(item.email)}}
                                <button mat-stroked-button color="primary" (click)="removeFriend(item.email)">x</button></p>
                        </div>
                    </div>
                </div>

                <h4>Invities:</h4>
                <div *ngFor="let item of myInvities">
                    <p>{{inreplece(item.friendsEmail)}}
                        <button mat-stroked-button color="primary" (click)="acceptInv(item)"><mat-icon>done</mat-icon></button>
                        <button mat-stroked-button color="primary" (click)="dontAcceptInv(item)">-</button></p>
                </div>
                <form (ngSubmit)="addFriend(addFriendForm.value.emailFriend)" #addFriendForm="ngForm">
                    <div class="addFriend">
                        <mat-form-field class="form">
                            <input matInput type="text" placeholder="Email Friend" required name="emailFriend" ngModel>
                            <mat-error>Email friend is Mandatory</mat-error>
                        </mat-form-field>
                    </div>
                    <button type="submit" mat-stroked-button color="primary" [disabled]="addFriendForm.invalid">Add your friend</button>
                </form>
                <h4>Send Invities:</h4>
                <div *ngFor="let item of allUser">
                    <div *ngIf="checkFriend(item.email)">
                        <div *ngIf="!checkAccept(item.email)">
                            <p> {{inreplece(item.email)}}</p>
                        </div>
                    </div>
                </div>
            </mat-sidenav>
            <mat-sidenav-content [style.background]="changeBackground()" [style.color]="changeFont()">
                <div>
                    <button mat-stroked-button color="primary" (click)="sidenav.toggle()">My Kanban Project</button>
                    <button mat-stroked-button color="primary" (click)="sidenavright.toggle()">Friends</button>
                    <app-menu></app-menu>
                    <div *ngIf="settingShare">
                        <button mat-stroked-button color="primary" (click)="deleteShareProject(projectName)"><mat-icon>delete</mat-icon>Delete</button>
                        <button mat-stroked-button color="primary" (click)="editShareProject(projectName)"><mat-icon>edit</mat-icon>Edit</button>
                        <button mat-stroked-button color="primary" (click)="stopShareProject(projectName)">Stop Share</button>
                        <div *ngFor="let friend of myFriend">
                            <div>
                                {{inreplece(friend.friendsEmail)}}
                                <button mat-stroked-button color="primary" *ngIf="!checkShare(friend.friendsEmail,projectName)" (click)="shareTable(friend,projectName)">Share project</button>
                                <button mat-stroked-button color="primary" *ngIf="checkShare(friend.friendsEmail,projectName)" (click)="stopShare(friend,projectName)">Stop share project</button>
                            </div>
                        </div>
                        <div class="chat" #scrollMe [scrollTop]="scrollMe.scrollHeight">
                            <div *ngFor="let mes of viewMessage">
                                <p> {{mes.email}} </p>
                                <p>{{mes.message}} {{mes.data}}</p>

                                <hr>
                            </div>
                        </div>
                        <div class="sendToChat">
                            <form (ngSubmit)="sendMessage(sendMessageForm.value.message)" #sendMessageForm="ngForm">
                                <div class="sendMessage">
                                    <mat-form-field class="form">
                                        <input matInput type="text" placeholder="Message" required name="message" ngModel>
                                        <mat-error>Message is Mandatory</mat-error>
                                    </mat-form-field>
                                </div>
                                <button type="submit" mat-stroked-button color="primary" [disabled]="sendMessageForm.invalid">Send Message</button>
                            </form>
                        </div>
                    </div>
                    <h3> Welcome {{item.email}}</h3>
                    <h3>You project name: {{projectName}}</h3>
                    <h3>You see {{numbers[0].number}} tables</h3>
                    <button mat-stroked-button color="primary" [disabled]="numbers[0].number==10" (click)="addNewTable()">Add new table</button>
                    <button mat-stroked-button color="primary" [disabled]="numbers[0].number==0" (click)="deleteLastTable()">Delete last table</button>
                    <div cdkDropListGroup name="toName">
                        <div *ngIf="numbers[0].number>0" class="example-container">
                            <h2>{{tableTitle[0].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table0)"><mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table0)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table0,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableZero" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableZero" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table0)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table0)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>

                        <div *ngIf="numbers[0].number>1" class="example-container">
                            <h2>{{tableTitle[1].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table1)"><mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table1)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table1,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableOne" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableOne" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table1)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table1)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="numbers[0].number>2" class="example-container">
                            <h2>{{tableTitle[2].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table2)"><mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table2)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table2,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableTwo" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableTwo" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table2)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table2)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>

                        <div *ngIf="numbers[0].number>3" class="example-container">
                            <h2>{{tableTitle[3].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table3)"><mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table3)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table3,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableThree" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableThree" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table3)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table3)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>

                        <div *ngIf="numbers[0].number>4" class="example-container">
                            <h2>{{tableTitle[4].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table4)"><mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table4)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table4,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableFour" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableFour" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table4)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table4)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>


                        <div *ngIf="numbers[0].number>5" class="example-container">
                            <h2>{{tableTitle[5].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table5)"><mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table5)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table5,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableFive" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableFive" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table5)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table5)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>


                        <div *ngIf="numbers[0].number>6" class="example-container">
                            <h2>{{tableTitle[6].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table6)">	<mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table6)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table6,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableSix" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableSix" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table6)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table6)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>


                        <div *ngIf="numbers[0].number>7" class="example-container">
                            <h2>{{tableTitle[7].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table7)"><mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table7)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table7,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableSeven" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableSeven" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table7)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table7)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>


                        <div *ngIf="numbers[0].number>8" class="example-container">
                            <h2>{{tableTitle[8].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table8)"><mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table8)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table8,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableEight" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableEight" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table8)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table8)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>

                        <div *ngIf="numbers[0].number>9" class="example-container">
                            <h2>{{tableTitle[9].title}}</h2>
                            <button mat-stroked-button color="primary" (click)="addTask(table9)"><mat-icon>add_circle</mat-icon></button>
                            <button mat-stroked-button color="primary" (click)="removeAllTask(table9)">Remove all Task </button>
                            <button mat-stroked-button color="primary" (click)="updateTableTitle(table9,false)">Edit Title Table </button>
                            <div cdkDropList [cdkDropListData]="tableNine" class="example-list" (cdkDropListDropped)="drop($event)">
                                <div class="example-box" [style.backgroundColor]="item.color" *ngFor="let item of tableNine" cdkDrag>
                                    <button class="buttonPriority" mat-stroked-button [style.backgroundColor]="item.priority" *ngIf="checkPrio(item.priority)">{{checkPrio(item.priority)}}</button><br>
                                    <button class="buttonList" mat-stroked-button color="primary" (click)="editTask(item.title,item.description,item.priority,item.color,item.endDate,table9)">Task title: {{item.title}}</button>
                                    <button class="buttonRemove" mat-stroked-button color="primary" (click)="removeTask(item.title,table9)"><mat-icon>delete</mat-icon></button><br>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </mat-sidenav-content>
        </mat-sidenav-container>
    </div>
</div>